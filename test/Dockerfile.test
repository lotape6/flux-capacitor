FROM ubuntu:22.04

# Install dependencies for testing
RUN apt-get update && apt-get install -y curl git sudo

WORKDIR /workspace
COPY . .

RUN chmod +x test_installation.sh

# Run the test script and ensure the image exits with the script's exit code
CMD ["bash", "-c", "exec ./test_installation.sh"]